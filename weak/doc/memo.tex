\documentclass[dvipsnames]{article}
% \documentclass[dvipsnames]{ctexart}
\title{weak-chain memo}
\usepackage{geometry}\geometry{
  a4paper,
  total={170mm,257mm},
  left=20mm,
  top=20mm,
}


\usepackage{adjustbox}          %to narrower the caption
\newlength\mylength
% \usepackage{hyperref}
\usepackage{svg}
\usepackage[skip=5pt plus1pt, indent=0pt]{parskip}
\usepackage{emoji}
% \setemojifont{NotoColorEmoji.ttf}[Path=C:/Users/congj/repo/myFonts/]
% \setemojifont{TwitterColorEmoji-SVGinOT.ttf}[Path=C:/Users/congj/repo/myFonts/]

\usepackage{booktabs}
\input{h-lua}
\date{\today}
\author{HiAaa}
\tcbuselibrary{breakable}
\newtcolorbox{blackbox}{tile,colback=black,colupper=white,nobeforeafter,halign=flush center}

\newcommand{\mycolaa}{\mycola!20}

\usepackage{placeins}

% \usepackage{lscape}             %for landscape env
\usepackage{pdflscape} %uncomment this  and comment above line to see the difference
% --------------------------------------------------

\usepackage{tabularx}
\begin{document}
\maketitle
\tableofcontents{}
\newpage{}

\input{2024-01-23}
\section*{2024-01-30}

\subsection*{10:10 diable \texttt{command\_history} \cola{[done at 11:26]}}

\emoji{parrot} : Let's add an option for the \texttt{ListenToOneConsensus} to
disable the \texttt{command\_history}.

\emoji{turtle} : Let's go. Then I think let's just make it a new consensus, what
about \texttt{Solo-static}? That means no nodes can be dynamically added (after
the some blks are made.)

\subsection*{11:27 pb more}

\emoji{parrot} : I think now it's time to protobuf more. Such as \texttt{Tx} and
\texttt{Blk}.

\emoji{turtle} : Em... Yeah, let's do that, first, I think \texttt{Tx, Acn,
  Blk}. But note that things are bit more complicated with \texttt{Blk}, because
it inherits from \texttt{BlkHeader}, and also.. Oh, why it that?

\emoji{parrot} : I remember it's for historical reason. Previously, we have two
types of \texttt{Blk}, one is \texttt{Blk} which contains the Tx payloads, and
another \texttt{BlkForConsensus} which only contains the hashes of \texttt{Tx}s.
This is used when we have two kinds of consensus message: \texttt{AddTxs} and
\texttt{ExecBlk}. However, since we have been using \texttt{light-exe} lately
which doesn't need \texttt{BlkForConsensus}, we have almost forgot about it....

\emoji{turtle} : Yeah, let's still pb it. Also the \texttt{ExecBlk}, which is
the executed Blk.

\emoji{parrot} : Emm. Also, I think \texttt{WITH\_PROTOBUF} directive is not
neccesary, let's just make pb a requirement.

\emoji{turtle} : A sec. I think we should still keep the
\texttt{WITH\_PROTOBUF}, because sometimes, we do wanna use json serialization,
for example, when we are debugging. So let's just change the ``meaning'' of it.
The protobuf is always required, but when we are \texttt{WITH\_PROTOBUF}, we
serialize things with pb (as much as possible), otherwise, we use json.

\emoji{parrot} : Yeah, key-word reuse, I like it. (kinda C-ish)

\subsection*{18:11 start testing Blk pb}
\emoji{turtle} : How's your day?

\emoji{parrot} : I just finished and tested the \texttt{Tx} pb (in the simplest form, no
crypto stuff such as \texttt{pk\_pem} is involved). And I am about to test the
\texttt{Blk} pb.

\emoji{turtle} : I see...No rush.


\end{document}

% Local Variables:
% TeX-engine: luatex
% TeX-command-extra-options: "-shell-escape"
% TeX-master: "m.tex"
% TeX-parse-self: t
% TeX-auto-save: t
% End: