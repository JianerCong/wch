\documentclass[dvipsnames]{article}
% \documentclass[dvipsnames]{ctexrep}

\usepackage{geometry}\geometry{
  a4paper,
  total={170mm,257mm},
  left=20mm,
  top=20mm,
}

\usepackage{adjustbox}          %to narrower the caption
\newlength\mylength
\usepackage{hyperref}
\usepackage{svg}
\usepackage[skip=5pt plus1pt, indent=0pt]{parskip}
\usepackage{emoji}
% \setemojifont{NotoColorEmoji.ttf}[Path=C:/Users/congj/repo/myFonts/]
% \setemojifont{TwitterColorEmoji-SVGinOT.ttf}[Path=C:/Users/congj/repo/myFonts/]


\usepackage{booktabs}
\input{h-lua}

\title{Weak Chain User Manual}
\date{\today}
\author{cccccje}
% \usepackage{fontspec}

\usepackage{fancyhdr}
\fancyhf{}                      % clear all header and footer fields
\lhead{\textnormal{\rightmark}}
% \rhead{--\ \thepage\ --}
\rfoot{--\ \thepage\ --}
\pagestyle{fancy}

\fancyfoot[C]{
  \begin{tikzpicture}[remember picture, overlay]
    % draw a corner at the top right
    \draw[fill=gray,draw=none,opacity=0.2] (current page.north east) -- +(-2,0) -- +(0,-6) -- cycle;
    \draw[fill=gray,draw=none,opacity=0.7] (current page.north east) -- +(-3,0) -- +(0,-4) -- cycle;
    \draw[fill=\mycola,draw=none,opacity=0.7] (current page.north east) -- +(-7,0) -- +(0,-3) -- cycle;


    % draw at the bottom left
    \draw[fill=gray,draw=none,opacity=0.6] (current page.south west) --
    +(7,0) -- +(0,2) -- cycle;
    \draw[fill=\mycola,draw=none,opacity=0.6] (current page.south west) --
    +(2,0) -- +(0,6) -- cycle;
    \draw[fill=gray,draw=none,opacity=0.3] (current page.south west) --
    +(3,0) -- +(0,4) -- cycle;
    
  \end{tikzpicture}
}

\newcommand{\Wch}{\strong{\cola{Weak Chain}}}

\begin{document}
\maketitle
\tableofcontents{}
\newpage{}

% \section{Welcome}
% This is the user manual for \Wch{}. \Wch{} is a private
% blockchain. The name come from the idea that
%   \cola{
%   ``you only need a weak understanding of blockchain
%   in order to use it''
% }. This manual includes some concepts and some tutorials.
% It's hoped that following this manual, you will be able to get the most from its
% features.

% In the hope of improving readability, this manual is written as dialogues
% between our two characters, Coco the Parrot \emoji{parrot} and Tim the Turtle
% \emoji{turtle}. Coco is a student. He is curious but not very patient. He just
% wants to get things done, but he's not a big fan of becoming a blockchain
% expert. Tim is the teacher. He is more knowledgeable, and willing to share
% everything he knows, but meanwhile keeping things as simple as possible. Tim
% often get pissed off by Coco's impatience, but he knows that's just what he
% should deal with in order to be a good teacher.

% If you are ready, join the journey with Coco and Tim. Let's get started.

% \input{doc-concepts}
% \input{doc-tutorials}


\section{Features}
\label{sec:feat}

\subsection{Python Contract}
\label{sec:how-to-py}
\emoji{turtle} : In this section we talk about python contract. There're two
things that a user might need to know:
\begin{enumerate}
\item How to write a python contract
\item How to invoke a python contract
\end{enumerate}
We discuss them one by one here.
\subsubsection{How to write}

A python contract is a python file with some special rules. In particular, the
rules are
\begin{enumerate}
\item At the top level, only \texttt{import, import from} and \texttt{def} are
  allowed.
\item Only some imports are allowed.
\item Some identifiers are not allowed.
\end{enumerate}

\paragraph{Allowed imports}
Some the following imports are allowed:
\begin{longtblr}[caption = {Allowed imports},
  label = {tab:allowed-py-imports}
  ]%
  {colspec={XXX[3]},
    rowhead = 1, % first row is shown on every page
  }
  \toprule
  % Allowed_modules : list[str] = ['math', 'cmath', 'typing', 'hashlib', 'hmac']
  \mbox{Module} & \mbox{Allowed symbol} & \mbox{Description} \\
  \midrule
  \texttt{math} & * & standard math module \\
  \texttt{cmath} & * & complex number module \\
  \texttt{typing} & * & module for type hints \\
  \texttt{hashlib} & * & hash module \\
  \texttt{hmac} & * & hash-based message authentication code module \\
  \bottomrule
\end{longtblr}


\subsubsection{How to invoke}


\end{document}

% Local Variables:
% TeX-engine: luatex
% TeX-command-extra-options: "-shell-escape"
% TeX-master: "m.tex"
% TeX-parse-self: t
% TeX-auto-save: t
% End: